<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.utraq.net.nz/thymeleaf/layout"
      layout:decorate="layout">
<head>
    <meta charset="UTF-8">
    <title>add event</title>
</head>
<body>
    <div layout:fragment="content" class="cards-section">
        <div class="card text-center w-50 my-4 mx-auto">
            <div class="card-header">
                Add new Event
            </div>
            <div class="card-body">
                <form th:action="@{/events/save}"
                      method="post"
                      th:object="${event}"
                      enctype="multipart/form-data">

                    <div class="d-flex gap-3">
                        <div class="mb-3 flex-fill">
                            <label for="event-title" class="form-label">Event Title</label>
                            <input type="text" class="form-control" id="event-title"
                                th:field="*{title}">
                            <span th:errors="${event.title}" class="text-danger"></span>
                        </div>
                        <div class="mb-3 flex-fill">
                            <label for="event-description" class="form-label">Event Description</label>
                            <input type="text" class="form-control" id="event-description"
                            th:field="*{description}">
                            <span th:errors="${event.description}" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="d-flex gap-3 ">
                        <div class="mb-3 flex-fill">
                            <label for="event-country" class="form-label">Country</label>
                            <input type="text" class="form-control" id="event-country"
                            th:field="*{country}">
                            <span th:errors="${event.country}" class="text-danger"></span>
                        </div>
                        <div class="mb-3 flex-fill">
                            <label for="event-city" class="form-label">City</label>
                            <input type="text" class="form-control" id="event-city"
                            th:field="*{city}">
                            <span th:errors="${event.city}" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="d-flex gap-3">
                        <div class="mb-3 flex-fill">
                            <label for="event-address" class="form-label">Address</label>
                            <input type="text" class="form-control" id="event-address"
                            th:field="*{address}">
                            <span th:errors="${event.address}" class="text-danger"></span>
                        </div>
                        <div class="mb-3 flex-fill">
                            <label for="event-tickets" class="form-label">Tickets Number</label>
                            <input type="number" class="form-control" id="event-tickets"
                            th:field="*{ticketNumber}">
                            <span th:errors="${event.ticketNumber}" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="d-flex gap-3">
                        <div class="mb-3 flex-fill">
                            <label for="event-start-date" class="form-label">Address</label>
                            <input type="datetime-local" class="form-control" id="event-start-date"
                             th:field="*{startDate}">
                            <span th:errors="${event.startDate}" class="text-danger"></span>
                        </div>
                        <div class="mb-3 flex-fill">
                            <label for="event-end-date" class="form-label">Tickets Number</label>
                            <input type="datetime-local" class="form-control" id="event-end-date"
                            th:field="*{endDate}">
                            <span th:errors="${event.endDate}" class="text-danger"></span>
                        </div>
                    </div>

                    <div class="d-flex gap-3 mb-3 flex-fill">
                        <div class="card" style="width: 18rem;">
                            <img id="previewImg" th:if="${event.eventImage!= null and !event.eventImage.isEmpty()}"
                                 th:src="'/uploads/'+${event.eventImage}"
                                 class="card-img-top" alt="image">
                            <div class="card-body">
                                <label for="event-image" class="form-label">Event Cover</label>
                                <input name="file" type="file" class="form-control" id="event-image"
                                       th:value="${event.eventImage}">
                                <span th:if="${#fields.hasErrors('eventImage')}" th:errors="*{eventImage}" class="text-danger"></span>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn-box center-btn-box">Submit</button>
                </form>
            </div>
        </div>
    </div>
</body>
</html>